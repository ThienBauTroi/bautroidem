import{_ as F,a as L,s as O,r as l,u as A,w as y,b as D,o as a,c as i,d as e,e as C,f as P,g as I,h as f,n as E,i as v,v as x,t as M,j as T,k as S,l as Z}from"./index.fa74b716.js";/* empty css            */import{_ as j}from"./Logo.91462b09.js";const H={setup(){const g=L(),{infoUser:r}=O(g),h=l(r),s=A(),c=l(null),d=l(null),n=l(null),t=l(""),U=l(!1),B=l("B\u1EA1n ch\u01B0a nh\u1EADp Email"),N=l("B\u1EA1n ch\u01B0a nh\u1EADp t\xEAn"),R=l("B\u1EA1n ch\u01B0a nh\u1EADp m\u1EADt kh\u1EA9u"),m=l(""),_=l(!1),p=l(!1),u=l(!1),b=l(!0),w=l("password"),z=()=>{b.value=!b.value,w.value=w.value==="password"?"text":"password"};return y(c,o=>(o=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o),o?p.value=!1:p.value=!0)),y(d,o=>(o=/^[AÀẢÃÁẠĂẰẲẴẮẶÂẦẨẪẤẬBCDĐEÈẺẼÉẸÊỀỂỄẾỆFGHIÌỈĨÍỊJKLMNOÒỎÕÓỌÔỒỔỖỐỘƠỜỞỠỚỢPQRSTUÙỦŨÚỤƯỪỬỮỨỰVWXYỲỶỸÝỴZ][aàảãáạăằẳẵắặâầẩẫấậbcdđeèẻẽéẹêềểễếệfghiìỉĩíịjklmnoòỏõóọôồổỗốộơờởỡớợpqrstuùủũúụưừửữứựvwxyỳỷỹýỵz]+ [AÀẢÃÁẠĂẰẲẴẮẶÂẦẨẪẤẬBCDĐEÈẺẼÉẸÊỀỂỄẾỆFGHIÌỈĨÍỊJKLMNOÒỎÕÓỌÔỒỔỖỐỘƠỜỞỠỚỢPQRSTUÙỦŨÚỤƯỪỬỮỨỰVWXYỲỶỸÝỴZ][aàảãáạăằẳẵắặâầẩẫấậbcdđeèẻẽéẹêềểễếệfghiìỉĩíịjklmnoòỏõóọôồổỗốộơờởỡớợpqrstuùủũúụưừửữứựvwxyỳỷỹýỵz]+(?: [AÀẢÃÁẠĂẰẲẴẮẶÂẦẨẪẤẬBCDĐEÈẺẼÉẸÊỀỂỄẾỆFGHIÌỈĨÍỊJKLMNOÒỎÕÓỌÔỒỔỖỐỘƠỜỞỠỚỢPQRSTUÙỦŨÚỤƯỪỬỮỨỰVWXYỲỶỸÝỴZ][aàảãáạăằẳẵắặâầẩẫấậbcdđeèẻẽéẹêềểễếệfghiìỉĩíịjklmnoòỏõóọôồổỗốộơờởỡớợpqrstuùủũúụưừửữứựvwxyỳỷỹýỵz]*)*/g.test(o),o?u.value=!1:u.value=!0)),y(n,o=>(o=/^.{6,}$/.test(o),o?_.value=!1:_.value=!0)),{auth:g,email:c,fullname:d,password:n,affiliate:t,messageError:U,messageErrorEmail:B,messageErrorFullname:N,messageErrorPassword:R,messageRegisterError:m,boolPassword:_,boolEmail:p,boolFullname:u,closeErrorMessage:()=>m.value=!1,handleSubmit:async()=>{try{if(d.value!==null&&c.value!==null&&n.value!==null&&u.value===!1){let o={email:c.value.toLowerCase(),fullname:d.value,password:n.value,affiliate:t.value};if(!await $axios.post("/client/auth/register",o))return;let k=await $axios.post("/client/auth/login",{email:c.value.toLowerCase(),password:n.value,remember:!0});if(!k)return;await g.setInfoUser(k),Z.set("USER_INFO",JSON.stringify(k));try{if(!await $axios.get("/user/verify/email",{headers:{Authorization:`Bearer ${h.value.token}`},params:{email_user:c.value.toLowerCase()}}))return;s.push({path:"/confirm-otp"})}catch(V){console.log(V)}}}catch(o){m.value="",(o==="email-exits"||o==="referral-code-not-found")&&(m.value=o),console.log(o)}},currentUserInfo:h,showPassword:b,typePassword:w,togglePassword:z}}},J={class:"register-container"},W={class:"register-wrapper"},q={class:"register-navbar"},G=e("img",{src:j},null,-1),K=e("div",{class:"register-language"},null,-1),Q={class:"register-content"},X={class:"register-form-input"},Y={class:"register-form"},$=e("div",{class:"register-header"},[e("div",{class:"register-header-title"},"\u0110\u0103ng k\xFD"),e("div",{class:"register-header-sub-title"},"Vui l\xF2ng nh\u1EADp \u0111\u1ECBa ch\u1EC9 email c\u1EE7a b\u1EA1n v\u1EDBi LunchWme")],-1),ee={class:"register-form-content"},se={key:0,class:"register-alert-error"},re=e("p",{class:"register-alert-error-title"},"Email \u0111\xE3 t\u1ED3n t\u1EA1i.",-1),te={key:1,class:"register-alert-error"},oe=e("p",{class:"register-alert-error-title"},"M\xE3 gi\u1EDBi thi\u1EC7u kh\xF4ng t\u1ED3n t\u1EA1i.",-1),le=e("label",{class:"register-form-label"},"H\u1ECD t\xEAn",-1),ae={class:"register-form-item"},ie={key:0,class:"register-form-el-error"},ne={key:1,class:"register-form-el-error"},ce={class:"register-form-content"},de=e("label",{class:"register-form-label"},"Email",-1),me={class:"register-form-item"},ge={key:0,class:"register-form-el-error"},ue={class:"register-form-content"},fe=e("label",{class:"register-form-label"},"M\u1EADt kh\u1EA9u",-1),ve={class:"register-form-item"},he=["type"],_e={key:0,class:"register-form-el-error"},pe={class:"register-form-content"},be=e("label",{class:"register-form-label"},"M\xE3 gi\u1EDBi thi\u1EC7u",-1),we={class:"register-form-item"},ke={class:"register-form-el"},ye=e("div",{class:"register-form-item-submit"},[e("button",null,"\u0110\u0103ng k\xFD")],-1),Ee={class:"register-bottom-link"};function xe(g,r,h,s,c,d){const n=D("router-link");return a(),i("div",J,[e("div",W,[e("div",q,[C(n,{to:"/",class:"register-navbar-logo"},{default:P(()=>[G]),_:1}),K]),e("div",Q,[e("div",X,[e("div",Y,[$,e("form",{class:"register-form",method:"post",onSubmit:r[8]||(r[8]=I((...t)=>s.handleSubmit&&s.handleSubmit(...t),["prevent"]))},[e("div",ee,[s.messageRegisterError==="email-exits"?(a(),i("div",se,[re,e("i",{onClick:r[0]||(r[0]=(...t)=>s.closeErrorMessage&&s.closeErrorMessage(...t)),class:"fa-solid fa-xmark register-alert-close"})])):s.messageRegisterError==="referral-code-not-found"?(a(),i("div",te,[oe,e("i",{onClick:r[1]||(r[1]=(...t)=>s.closeErrorMessage&&s.closeErrorMessage(...t)),class:"fa-solid fa-xmark register-alert-close"})])):f("",!0),le,e("div",ae,[e("div",{class:E(["register-form-el",{error:s.boolFullname}])},[v(e("input",{"onUpdate:modelValue":r[2]||(r[2]=t=>s.fullname=t),class:"register-form-el-item",placeholder:"Vui l\xF2ng nh\u1EADp h\u1ECD v\xE0 t\xEAn"},null,512),[[x,s.fullname,void 0,{trim:!0}]])],2),s.fullname==""?(a(),i("div",ie,M(s.messageErrorFullname),1)):s.boolFullname?(a(),i("div",ne," Nh\u1EADp \u0111\u1EA7y \u0111\u1EE7 h\u1ECD t\xEAn v\xE0 vi\u1EBFt hoa ch\u1EEF \u0111\u1EA7u m\u1ED7i t\u1EEB. ")):f("",!0)])]),e("div",ce,[de,e("div",me,[e("div",{class:E(["register-form-el",{error:s.boolEmail}])},[v(e("input",{"onUpdate:modelValue":r[3]||(r[3]=t=>s.email=t),class:"register-form-el-item",placeholder:"Vui l\xF2ng nh\u1EADp email"},null,512),[[x,s.email,void 0,{trim:!0}]])],2),s.email==""?(a(),i("div",ge,M(s.messageErrorEmail),1)):f("",!0)])]),e("div",ue,[fe,e("div",ve,[e("div",{class:E(["register-form-el",{error:s.boolPassword}])},[v(e("input",{"onUpdate:modelValue":r[4]||(r[4]=t=>s.password=t),type:s.typePassword,class:"register-form-el-item",placeholder:"Vui l\xF2ng nh\u1EADp m\u1EADt kh\u1EA9u",autocomplete:"off"},null,8,he),[[T,s.password,void 0,{trim:!0}]]),s.showPassword?(a(),i("i",{key:0,class:"fa-regular fa-eye",onClick:r[5]||(r[5]=(...t)=>s.togglePassword&&s.togglePassword(...t))})):(a(),i("i",{key:1,class:"fa-regular fa-eye-slash",onClick:r[6]||(r[6]=(...t)=>s.togglePassword&&s.togglePassword(...t))}))],2),s.password==""?(a(),i("div",_e,M(s.messageErrorPassword),1)):f("",!0)])]),e("div",pe,[be,e("div",we,[e("div",ke,[v(e("input",{"onUpdate:modelValue":r[7]||(r[7]=t=>s.affiliate=t),type:"text",class:"register-form-el-item",placeholder:"M\xE3 gi\u1EDBi thi\u1EC7u (n\u1EBFu c\xF3)"},null,512),[[x,s.affiliate,void 0,{trim:!0}]])])])]),ye],32),e("div",Ee,[S(" \u0110\xE3 c\xF3 t\xE0i kho\u1EA3n? "),C(n,{to:"/login"},{default:P(()=>[S("\u0110\u0103ng nh\u1EADp ngay")]),_:1})])])])])])])}const Be=F(H,[["render",xe]]);export{Be as default};
