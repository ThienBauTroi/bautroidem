import{_ as V,u as S,R,a as B,r as a,w as b,b as N,o as l,c as n,d as e,e as y,f as E,k as D,t as g,g as T,h as p,n as x,i as C,v as L,j as U}from"./index.fa74b716.js";/* empty css            */import{_ as j}from"./Logo.91462b09.js";const q={setup(){const w=S(),o=R(),k=B(),s=a(o.params.email),c=a(null),d=a(null),m=a(!1),t=a("B\u1EA1n ch\u01B0a nh\u1EADp m\xE3 x\xE1c th\u1EF1c"),M=a("B\u1EA1n ch\u01B0a nh\u1EADp m\u1EADt kh\u1EA9u"),u=a(""),h=a(!1),f=a(!1),_=a(!0),v=a("password"),P=()=>{_.value=!_.value,v.value=v.value==="password"?"text":"password"};return b(c,r=>(r=/^[0-9]{1,6}$/.test(r),r?f.value=!1:f.value=!0)),b(d,r=>(r=/^.{6,}$/.test(r),r?h.value=!1:h.value=!0)),{auth:k,email:s,code:c,password:d,messageError:m,messageErrorCode:t,messageErrorPassword:M,messageResetError:u,boolPassword:h,boolCode:f,closeErrorMessage:()=>messageLoginError.value=!1,handleSubmit:async()=>{try{if(s.value!==null&&c.value!==null){let r={email:s.value.toLowerCase(),code:c.value,password:d.value};await $axios.post("/client/user/reset-password",r).then(i=>{i.message==="reset-password-success"&&w.push({path:"/"})}).catch(i=>{(i==="user-not-found-by-email"||i==="code-not-verify")&&(u.value=i)})}}catch(r){console.log(r)}},showPassword:_,typePassword:v,togglePassword:P}}},z={class:"reset-container"},G={class:"reset-wrapper"},Q={class:"reset-navbar"},A=e("img",{src:j},null,-1),F={class:"reset-content"},H={class:"reset-form-input"},I={class:"reset-form-login"},J={class:"reset-header"},K=e("div",{class:"reset-header-title"},"\u0110\u1EB7t l\u1EA1i m\u1EADt kh\u1EA9u",-1),O={class:"reset-header-sub-title"},W={style:{color:"#f35b04"}},X={class:"reset-form-content"},Y={key:0,class:"reset-alert-error"},Z=e("p",{class:"reset-alert-error-title"},"T\xE0i kho\u1EA3n kh\xF4ng t\u1ED3n t\u1EA1i.",-1),$={key:1,class:"reset-alert-error"},ss=e("p",{class:"reset-alert-error-title"},"M\xE3 x\xE1c th\u1EF1c kh\xF4ng ch\xEDnh x\xE1c.",-1),es=e("label",{class:"reset-form-label"},"M\xE3 x\xE1c th\u1EF1c",-1),os={class:"reset-form-item"},ts={key:0,class:"reset-form-el-error"},rs={class:"reset-form-content"},as=e("label",{class:"reset-form-label"},"M\u1EADt kh\u1EA9u",-1),ls={class:"reset-form-item"},ns=["type"],is={key:0,class:"reset-form-el-error"},cs={class:"reset-form-item-submit"},ds=e("button",null,"G\u1EEDi",-1),ms=e("button",{class:"reset-return"},"Quay l\u1EA1i",-1);function us(w,o,k,s,c,d){const m=N("router-link");return l(),n("div",z,[e("div",G,[e("div",Q,[y(m,{to:"/",class:"reset-navbar-logo"},{default:E(()=>[A]),_:1})]),e("div",F,[e("div",H,[e("div",I,[e("div",J,[K,e("div",O,[D(" Ch\xFAng t\xF4i \u0111\xE3 g\u1EEDi m\xE3 qua email "),e("span",W,g(s.email),1)])]),e("form",{class:"reset-form",method:"post",onSubmit:o[6]||(o[6]=T((...t)=>s.handleSubmit&&s.handleSubmit(...t),["prevent"]))},[e("div",X,[s.messageResetError==="user-not-found-by-email"?(l(),n("div",Y,[Z,e("i",{onClick:o[0]||(o[0]=(...t)=>s.closeErrorMessage&&s.closeErrorMessage(...t)),class:"fa-solid fa-xmark reset-alert-close"})])):s.messageResetError==="code-not-verify"?(l(),n("div",$,[ss,e("i",{onClick:o[1]||(o[1]=(...t)=>s.closeErrorMessage&&s.closeErrorMessage(...t)),class:"fa-solid fa-xmark reset-alert-close"})])):p("",!0),es,e("div",os,[e("div",{class:x(["reset-form-el",{error:s.boolCode}])},[C(e("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>s.code=t),class:"reset-form-el-item",placeholder:"Vui l\xF2ng nh\u1EADp m\xE3 x\xE1c th\u1EF1c 6 ch\u1EEF s\u1ED1",autocomplete:"off"},null,512),[[L,s.code,void 0,{trim:!0}]])],2),s.code==""?(l(),n("div",ts,g(s.messageErrorCode),1)):p("",!0)])]),e("div",rs,[as,e("div",ls,[e("div",{class:x(["reset-form-el",{error:s.boolPassword}])},[C(e("input",{"onUpdate:modelValue":o[3]||(o[3]=t=>s.password=t),type:s.typePassword,class:"reset-form-el-item",placeholder:"Vui l\xF2ng nh\u1EADp m\u1EADt kh\u1EA9u",autocomplete:"off"},null,8,ns),[[U,s.password,void 0,{trim:!0}]]),s.showPassword?(l(),n("i",{key:0,class:"fa-regular fa-eye",onClick:o[4]||(o[4]=(...t)=>s.togglePassword&&s.togglePassword(...t))})):(l(),n("i",{key:1,class:"fa-regular fa-eye-slash",onClick:o[5]||(o[5]=(...t)=>s.togglePassword&&s.togglePassword(...t))}))],2),s.password==""?(l(),n("div",is,g(s.messageErrorPassword),1)):p("",!0)])]),e("div",cs,[ds,y(m,{to:"/login"},{default:E(()=>[ms]),_:1})])],32)])])])])])}const ps=V(q,[["render",us]]);export{ps as default};
